// Local modifications:
// * removed com.google.android.geo.API_KEY key. This should be added to
//      the manifest files in java/com/android/incallui/calllocation/impl/
//      and /java/com/android/incallui/maps/impl/
// * b/62417801 modify translation string naming convention:
//      $ find . -type d | grep 262 | rename 's/(values)\-([a-zA-Z\+\-]+)\-(mcc262-mnc01)/$1-$3-$2/'
// * b/37077388 temporarily disable proguard with javac
// * b/62875795 include manually generated GRPC service class:
//      $ protoc --plugin=protoc-gen-grpc-java=prebuilts/tools/common/m2/repository/io/grpc/protoc-gen-grpc-java/1.0.3/protoc-gen-grpc-java-1.0.3-linux-x86_64.exe
//#               --grpc-java_out=lite:"packages/apps/Dialer/java/com/android/voicemail/impl/"
//#               --proto_path="packages/apps/Dialer/java/com/android/voicemail/impl/transcribe/grpc/" "packages/apps/Dialer/java/com/android/voicemail/impl/transcribe/grpc/voicemail_transcription.proto"

// The base directory for Dialer sources.
BASE_DIR = "java/com/android"

// Exclude files incompatible with AOSP.
EXCLUDE_FILES = [
    BASE_DIR + "/incallui/calllocation/impl/AuthException.java",
    BASE_DIR + "/incallui/calllocation/impl/CallLocationImpl.java",
    BASE_DIR + "/incallui/calllocation/impl/CallLocationModule.java",
    BASE_DIR + "/incallui/calllocation/impl/DownloadMapImageTask.java",
    BASE_DIR + "/incallui/calllocation/impl/GoogleLocationSettingHelper.java",
    BASE_DIR + "/incallui/calllocation/impl/HttpFetcher.java",
    BASE_DIR + "/incallui/calllocation/impl/LocationFragment.java",
    BASE_DIR + "/incallui/calllocation/impl/LocationHelper.java",
    BASE_DIR + "/incallui/calllocation/impl/LocationPresenter.java",
    BASE_DIR + "/incallui/calllocation/impl/LocationUrlBuilder.java",
    BASE_DIR + "/incallui/calllocation/impl/ReverseGeocodeTask.java",
    BASE_DIR + "/incallui/calllocation/impl/TrafficStatsTags.java",
    BASE_DIR + "/incallui/maps/impl/MapsImpl.java",
    BASE_DIR + "/incallui/maps/impl/MapsModule.java",
    BASE_DIR + "/incallui/maps/impl/StaticMapFragment.java",
]

// Exclude testing only class, not used anywhere here
EXCLUDE_FILES += [BASE_DIR + "/contacts/common/format/testing/SpannedTestUtils.java"]

// Exclude rootcomponentgenerator
EXCLUDE_FILES += [
    BASE_DIR + "/dialer/rootcomponentgenerator/**/*.java",
    BASE_DIR + "/dialer/inject/demo/**/*.java",
]

// Exclude build variants for now
EXCLUDE_FILES += [
    BASE_DIR + "/dialer/constants/googledialer/ConstantsImpl.java",
    BASE_DIR + "/dialer/binary/google/GoogleStubDialerRootComponent.java",
    BASE_DIR + "/dialer/binary/google/GoogleStubDialerApplication.java",
]

RESOURCE_DIRS = [
    "assets/product/res",
    "assets/quantum/res",
    "java/com/android/contacts/common/res",
    "java/com/android/dialer/about/res",
    "java/com/android/dialer/app/res",
    "java/com/android/dialer/app/voicemail/error/res",
    "java/com/android/dialer/assisteddialing/res",
    "java/com/android/dialer/assisteddialing/ui/res",
    "java/com/android/dialer/blocking/res",
    "java/com/android/dialer/blockreportspam/res",
    "java/com/android/dialer/callcomposer/camera/camerafocus/res",
    "java/com/android/dialer/callcomposer/cameraui/res",
    "java/com/android/dialer/callcomposer/res",
    "java/com/android/dialer/calldetails/res",
    "java/com/android/dialer/calllog/ui/menu/res",
    "java/com/android/dialer/calllog/ui/res",
    "java/com/android/dialer/calllogutils/res",
    "java/com/android/dialer/clipboard/res",
    "java/com/android/dialer/common/preference/res",
    "java/com/android/dialer/common/res",
    "java/com/android/dialer/contactphoto/res",
    "java/com/android/dialer/contacts/displaypreference/res",
    "java/com/android/dialer/contacts/resources/res",
    "java/com/android/dialer/contactsfragment/res",
    "java/com/android/dialer/dialpadview/res",
    "java/com/android/dialer/dialpadview/theme/res",
    "java/com/android/dialer/enrichedcall/simulator/res",
    "java/com/android/dialer/glidephotomanager/impl/res",
    "java/com/android/dialer/historyitemactions/res",
    "java/com/android/dialer/interactions/res",
    "java/com/android/dialer/lettertile/res",
    "java/com/android/dialer/main/impl/bottomnav/res",
    "java/com/android/dialer/main/impl/res",
    "java/com/android/dialer/main/impl/toolbar/res",
    "java/com/android/dialer/notification/res",
    "java/com/android/dialer/oem/res",
    "java/com/android/dialer/phonenumberutil/res",
    "java/com/android/dialer/postcall/res",
    "java/com/android/dialer/precall/impl/res",
    "java/com/android/dialer/preferredsim/impl/res",
    "java/com/android/dialer/preferredsim/suggestion/res",
    "java/com/android/dialer/promotion/impl/res",
    "java/com/android/dialer/rtt/res",
    "java/com/android/dialer/searchfragment/common/res",
    "java/com/android/dialer/searchfragment/cp2/res",
    "java/com/android/dialer/searchfragment/directories/res",
    "java/com/android/dialer/searchfragment/list/res",
    "java/com/android/dialer/searchfragment/nearbyplaces/res",
    "java/com/android/dialer/searchfragment/remote/res",
    "java/com/android/dialer/shortcuts/res",
    "java/com/android/dialer/spam/promo/res",
    "java/com/android/dialer/spannable/res",
    "java/com/android/dialer/speeddial/res",
    "java/com/android/dialer/theme/base/res",
    "java/com/android/dialer/theme/common/res",
    "java/com/android/dialer/theme/hidden/res",
    "java/com/android/dialer/theme/res",
    "java/com/android/dialer/util/res",
    "java/com/android/dialer/voicemail/listui/error/res",
    "java/com/android/dialer/voicemail/listui/res",
    "java/com/android/dialer/voicemail/settings/res",
    "java/com/android/dialer/widget/res",
    "java/com/android/incallui/answer/impl/affordance/res",
    "java/com/android/incallui/answer/impl/answermethod/res",
    "java/com/android/incallui/answer/impl/hint/res",
    "java/com/android/incallui/answer/impl/res",
    "java/com/android/incallui/audioroute/res",
    "java/com/android/incallui/autoresizetext/res",
    "java/com/android/incallui/calllocation/impl/res",
    "java/com/android/incallui/callpending/res",
    "java/com/android/incallui/commontheme/res",
    "java/com/android/incallui/contactgrid/res",
    "java/com/android/incallui/disconnectdialog/res",
    "java/com/android/incallui/hold/res",
    "java/com/android/incallui/incall/impl/res",
    "java/com/android/incallui/res",
    "java/com/android/incallui/rtt/impl/res",
    "java/com/android/incallui/sessiondata/res",
    "java/com/android/incallui/spam/res",
    "java/com/android/incallui/speakerbuttonlogic/res",
    "java/com/android/incallui/telecomeventui/res",
    "java/com/android/incallui/theme/res",
    "java/com/android/incallui/video/impl/res",
    "java/com/android/incallui/video/protocol/res",
    "java/com/android/voicemail/impl/configui/res",
    "java/com/android/voicemail/impl/res",
]

EXTRA_PACKAGES = [
    "--extra-packages",
    "com.android.assets.product",
    "--extra-packages",
    "com.android.assets.quantum",
    "--extra-packages",
    "com.android.bubble",
    "--extra-packages",
    "com.android.contacts.common",
    "--extra-packages",
    "com.android.dialer.about",
    "--extra-packages",
    "com.android.dialer.app",
    "--extra-packages",
    "com.android.dialer.app.manifests.activities",
    "--extra-packages",
    "com.android.dialer.assisteddialing",
    "--extra-packages",
    "com.android.dialer.assisteddialing.ui",
    "--extra-packages",
    "com.android.dialer.backup",
    "--extra-packages",
    "com.android.dialer.blocking",
    "--extra-packages",
    "com.android.dialer.blockreportspam",
    "--extra-packages",
    "com.android.dialer.callcomposer",
    "--extra-packages",
    "com.android.dialer.callcomposer.camera",
    "--extra-packages",
    "com.android.dialer.callcomposer.camera.camerafocus",
    "--extra-packages",
    "com.android.dialer.callcomposer.cameraui",
    "--extra-packages",
    "com.android.dialer.calldetails",
    "--extra-packages",
    "com.android.dialer.calllog.config",
    "--extra-packages",
    "com.android.dialer.calllog.database",
    "--extra-packages",
    "com.android.dialer.calllog.ui",
    "--extra-packages",
    "com.android.dialer.calllog.ui.menu",
    "--extra-packages",
    "com.android.dialer.calllogutils",
    "--extra-packages",
    "com.android.dialer.clipboard",
    "--extra-packages",
    "com.android.dialer.commandline",
    "--extra-packages",
    "com.android.dialer.common",
    "--extra-packages",
    "com.android.dialer.common.concurrent.testing",
    "--extra-packages",
    "com.android.dialer.common.preference",
    "--extra-packages",
    "com.android.dialer.configprovider",
    "--extra-packages",
    "com.android.dialer.contacts.displaypreference",
    "--extra-packages",
    "com.android.dialer.contacts.resources",
    "--extra-packages",
    "com.android.dialer.contactphoto",
    "--extra-packages",
    "com.android.dialer.contactsfragment",
    "--extra-packages",
    "com.android.dialer.databasepopulator",
    "--extra-packages",
    "com.android.dialer.dialpadview",
    "--extra-packages",
    "com.android.dialer.dialpadview.theme",
    "--extra-packages",
    "com.android.dialer.enrichedcall.simulator",
    "--extra-packages",
    "com.android.dialer.feedback",
    "--extra-packages",
    "com.android.dialer.glidephotomanager.impl",
    "--extra-packages",
    "com.android.dialer.historyitemactions",
    "--extra-packages",
    "com.android.dialer.interactions",
    "--extra-packages",
    "com.android.dialer.lettertile",
    "--extra-packages",
    "com.android.dialer.location",
    "--extra-packages",
    "com.android.dialer.main.impl",
    "--extra-packages",
    "com.android.dialer.main.impl.toolbar",
    "--extra-packages",
    "com.android.dialer.main.impl.bottomnav",
    "--extra-packages",
    "com.android.dialer.notification",
    "--extra-packages",
    "com.android.dialer.oem",
    "--extra-packages",
    "com.android.dialer.phonelookup.database",
    "--extra-packages",
    "com.android.dialer.phonenumberutil",
    "--extra-packages",
    "com.android.dialer.postcall",
    "--extra-packages",
    "com.android.dialer.precall.impl",
    "--extra-packages",
    "com.android.dialer.precall.externalreceiver",
    "--extra-packages",
    "com.android.dialer.preferredsim.impl",
    "--extra-packages",
    "com.android.dialer.preferredsim.suggestion",
    "--extra-packages",
    "com.android.dialer.promotion.impl",
    "--extra-packages",
    "com.android.dialer.rtt",
    "--extra-packages",
    "com.android.dialer.searchfragment.common",
    "--extra-packages",
    "com.android.dialer.searchfragment.cp2",
    "--extra-packages",
    "com.android.dialer.searchfragment.directories",
    "--extra-packages",
    "com.android.dialer.searchfragment.list",
    "--extra-packages",
    "com.android.dialer.searchfragment.nearbyplaces",
    "--extra-packages",
    "com.android.dialer.searchfragment.remote",
    "--extra-packages",
    "com.android.dialer.shortcuts",
    "--extra-packages",
    "com.android.dialer.simulator.impl",
    "--extra-packages",
    "com.android.dialer.simulator.service",
    "--extra-packages",
    "com.android.dialer.spam.promo",
    "--extra-packages",
    "com.android.dialer.speeddial",
    "--extra-packages",
    "com.android.dialer.spannable",
    "--extra-packages",
    "com.android.dialer.theme",
    "--extra-packages",
    "com.android.dialer.theme.base",
    "--extra-packages",
    "com.android.dialer.theme.base.impl",
    "--extra-packages",
    "com.android.dialer.theme.common",
    "--extra-packages",
    "com.android.dialer.theme.hidden",
    "--extra-packages",
    "com.android.dialer.util",
    "--extra-packages",
    "com.android.dialer.voicemail.listui",
    "--extra-packages",
    "com.android.dialer.voicemail.listui.error",
    "--extra-packages",
    "com.android.dialer.voicemail.listui.menu",
    "--extra-packages",
    "com.android.dialer.voicemail.settings",
    "--extra-packages",
    "com.android.dialer.voicemailstatus",
    "--extra-packages",
    "com.android.dialer.widget",
    "--extra-packages",
    "com.android.incallui",
    "--extra-packages",
    "com.android.incallui.answer.impl.affordance",
    "--extra-packages",
    "com.android.incallui.answer.impl",
    "--extra-packages",
    "com.android.incallui.answer.impl.answermethod",
    "--extra-packages",
    "com.android.incallui.answer.impl.hint",
    "--extra-packages",
    "com.android.incallui.audioroute",
    "--extra-packages",
    "com.android.incallui.autoresizetext",
    "--extra-packages",
    "com.android.incallui.callpending",
    "--extra-packages",
    "com.android.incallui.commontheme",
    "--extra-packages",
    "com.android.incallui.contactgrid",
    "--extra-packages",
    "com.android.incallui.disconnectdialog",
    "--extra-packages",
    "com.android.incallui.hold",
    "--extra-packages",
    "com.android.incallui.incall.impl",
    "--extra-packages",
    "com.android.incallui.rtt.impl",
    "--extra-packages",
    "com.android.incallui.rtt.protocol",
    "--extra-packages",
    "com.android.incallui.speakeasy",
    "--extra-packages",
    "com.android.incallui.sessiondata",
    "--extra-packages",
    "com.android.incallui.spam",
    "--extra-packages",
    "com.android.incallui.speakerbuttonlogic",
    "--extra-packages",
    "com.android.incallui.telecomeventui",
    "--extra-packages",
    "com.android.incallui.video.impl",
    "--extra-packages",
    "com.android.incallui.video.protocol",
    "--extra-packages",
    "com.android.phoneapphelper",
    "--extra-packages",
    "com.android.voicemail",
    "--extra-packages",
    "com.android.voicemail.impl",
    "--extra-packages",
    "com.android.voicemail.impl.configui",
]

android_app {
    name: "Dialer",
    sdk_version: "system_current",
    use_embedded_native_libs: true,

    additional_manifests: [
        "assets/product/AndroidManifest.xml",
        "assets/quantum/AndroidManifest.xml",
        BASE_DIR + "/contacts/common/AndroidManifest.xml",
        BASE_DIR + "/dialer/about/AndroidManifest.xml",
        BASE_DIR + "/dialer/app/AndroidManifest.xml",
        BASE_DIR + "/dialer/app/manifests/activities/AndroidManifest.xml",
        BASE_DIR + "/dialer/assisteddialing/AndroidManifest.xml",
        BASE_DIR + "/dialer/assisteddialing/ui/AndroidManifest.xml",
        BASE_DIR + "/dialer/backup/AndroidManifest.xml",
        BASE_DIR + "/dialer/blocking/AndroidManifest.xml",
        BASE_DIR + "/dialer/blockreportspam/AndroidManifest.xml",
        BASE_DIR + "/dialer/callcomposer/AndroidManifest.xml",
        BASE_DIR + "/dialer/callcomposer/camera/AndroidManifest.xml",
        BASE_DIR + "/dialer/callcomposer/camera/camerafocus/AndroidManifest.xml",
        BASE_DIR + "/dialer/callcomposer/cameraui/AndroidManifest.xml",
        BASE_DIR + "/dialer/calldetails/AndroidManifest.xml",
        BASE_DIR + "/dialer/calllog/AndroidManifest.xml",
        BASE_DIR + "/dialer/calllog/config/AndroidManifest.xml",
        BASE_DIR + "/dialer/calllog/database/AndroidManifest.xml",
        BASE_DIR + "/dialer/calllog/ui/AndroidManifest.xml",
        BASE_DIR + "/dialer/calllog/ui/menu/AndroidManifest.xml",
        BASE_DIR + "/dialer/calllogutils/AndroidManifest.xml",
        BASE_DIR + "/dialer/clipboard/AndroidManifest.xml",
        BASE_DIR + "/dialer/common/AndroidManifest.xml",
        BASE_DIR + "/dialer/common/preference/AndroidManifest.xml",
        BASE_DIR + "/dialer/configprovider/AndroidManifest.xml",
        BASE_DIR + "/dialer/contactphoto/AndroidManifest.xml",
        BASE_DIR + "/dialer/contacts/displaypreference/AndroidManifest.xml",
        BASE_DIR + "/dialer/contacts/resources/AndroidManifest.xml",
        BASE_DIR + "/dialer/contactsfragment/AndroidManifest.xml",
        BASE_DIR + "/dialer/databasepopulator/AndroidManifest.xml",
        BASE_DIR + "/dialer/dialpadview/AndroidManifest.xml",
        BASE_DIR + "/dialer/dialpadview/theme/AndroidManifest.xml",
        BASE_DIR + "/dialer/enrichedcall/simulator/AndroidManifest.xml",
        BASE_DIR + "/dialer/glidephotomanager/impl/AndroidManifest.xml",
        BASE_DIR + "/dialer/historyitemactions/AndroidManifest.xml",
        BASE_DIR + "/dialer/interactions/AndroidManifest.xml",
        BASE_DIR + "/dialer/lettertile/AndroidManifest.xml",
        BASE_DIR + "/dialer/location/AndroidManifest.xml",
        BASE_DIR + "/dialer/main/impl/AndroidManifest.xml",
        BASE_DIR + "/dialer/main/impl/bottomnav/AndroidManifest.xml",
        BASE_DIR + "/dialer/main/impl/toolbar/AndroidManifest.xml",
        BASE_DIR + "/dialer/notification/AndroidManifest.xml",
        BASE_DIR + "/dialer/oem/AndroidManifest.xml",
        BASE_DIR + "/dialer/phonelookup/database/AndroidManifest.xml",
        BASE_DIR + "/dialer/phonenumberutil/AndroidManifest.xml",
        BASE_DIR + "/dialer/postcall/AndroidManifest.xml",
        BASE_DIR + "/dialer/precall/externalreceiver/AndroidManifest.xml",
        BASE_DIR + "/dialer/precall/impl/AndroidManifest.xml",
        BASE_DIR + "/dialer/preferredsim/impl/AndroidManifest.xml",
        BASE_DIR + "/dialer/preferredsim/suggestion/AndroidManifest.xml",
        BASE_DIR + "/dialer/promotion/impl/AndroidManifest.xml",
        BASE_DIR + "/dialer/rtt/AndroidManifest.xml",
        BASE_DIR + "/dialer/searchfragment/common/AndroidManifest.xml",
        BASE_DIR + "/dialer/searchfragment/cp2/AndroidManifest.xml",
        BASE_DIR + "/dialer/searchfragment/directories/AndroidManifest.xml",
        BASE_DIR + "/dialer/searchfragment/list/AndroidManifest.xml",
        BASE_DIR + "/dialer/searchfragment/nearbyplaces/AndroidManifest.xml",
        BASE_DIR + "/dialer/shortcuts/AndroidManifest.xml",
        BASE_DIR + "/dialer/simulator/impl/AndroidManifest.xml",
        BASE_DIR + "/dialer/simulator/service/AndroidManifest.xml",
        BASE_DIR + "/dialer/spam/promo/AndroidManifest.xml",
        BASE_DIR + "/dialer/spannable/AndroidManifest.xml",
        BASE_DIR + "/dialer/speeddial/AndroidManifest.xml",
        BASE_DIR + "/dialer/theme/base/AndroidManifest.xml",
        BASE_DIR + "/dialer/theme/common/AndroidManifest.xml",
        BASE_DIR + "/dialer/theme/hidden/AndroidManifest.xml",
        BASE_DIR + "/dialer/util/AndroidManifest.xml",
        BASE_DIR + "/dialer/voicemail/listui/AndroidManifest.xml",
        BASE_DIR + "/dialer/voicemail/listui/error/AndroidManifest.xml",
        BASE_DIR + "/dialer/voicemail/listui/menu/AndroidManifest.xml",
        BASE_DIR + "/dialer/voicemail/settings/AndroidManifest.xml",
        BASE_DIR + "/dialer/voicemailstatus/AndroidManifest.xml",
        BASE_DIR + "/dialer/widget/AndroidManifest.xml",
        BASE_DIR + "/incallui/AndroidManifest.xml",
        BASE_DIR + "/incallui/answer/impl/AndroidManifest.xml",
        BASE_DIR + "/incallui/answer/impl/affordance/AndroidManifest.xml",
        BASE_DIR + "/incallui/answer/impl/answermethod/AndroidManifest.xml",
        BASE_DIR + "/incallui/answer/impl/hint/AndroidManifest.xml",
        BASE_DIR + "/incallui/audioroute/AndroidManifest.xml",
        BASE_DIR + "/incallui/autoresizetext/AndroidManifest.xml",
        BASE_DIR + "/incallui/callpending/AndroidManifest.xml",
        BASE_DIR + "/incallui/commontheme/AndroidManifest.xml",
        BASE_DIR + "/incallui/contactgrid/AndroidManifest.xml",
        BASE_DIR + "/incallui/disconnectdialog/AndroidManifest.xml",
        BASE_DIR + "/incallui/hold/AndroidManifest.xml",
        BASE_DIR + "/incallui/incall/impl/AndroidManifest.xml",
        BASE_DIR + "/incallui/rtt/impl/AndroidManifest.xml",
        BASE_DIR + "/incallui/rtt/protocol/AndroidManifest.xml",
        BASE_DIR + "/incallui/sessiondata/AndroidManifest.xml",
        BASE_DIR + "/incallui/spam/AndroidManifest.xml",
        BASE_DIR + "/incallui/speakerbuttonlogic/AndroidManifest.xml",
        BASE_DIR + "/incallui/telecomeventui/AndroidManifest.xml",
        BASE_DIR + "/incallui/theme/AndroidManifest.xml",
        BASE_DIR + "/incallui/video/impl/AndroidManifest.xml",
        BASE_DIR + "/incallui/video/protocol/AndroidManifest.xml",
        BASE_DIR + "/voicemail/AndroidManifest.xml",
        BASE_DIR + "/voicemail/impl/AndroidManifest.xml",
        BASE_DIR + "/voicemail/impl/configui/AndroidManifest.xml",
    ],

    srcs: [
        BASE_DIR + "/**/*.java",
        BASE_DIR + "/**/*.proto",
        BASE_DIR + "/**/I*.aidl",
    ],
    exclude_srcs: EXCLUDE_FILES,

    resource_dirs: RESOURCE_DIRS,

    aidl: {
        local_include_dirs: ["java/"],
    },

    aaptflags: EXTRA_PACKAGES + [
        "--auto-add-overlay",
        "--extra-packages",
        "me.leolin.shortcutbadger",
    ],

    static_libs: [
        "android-common",
        "android-support-dynamic-animation",
        "com.android.vcard",
        "dialer-common-m2-target-deps",
        //"dialer-glide-target-deps",
        "dagger2",
        "glide-prebuilt",
        //"dialer-glide-target-deps",
	    //"dialer-glide-host-deps",
        "error_prone_annotations",
        "jsr305",
        "libbackup",
        "libphonenumber",
        "volley",
        "zxing-core-1.7",
        "android-support-core-ui",
        "android-support-design",
        "android-support-transition",
        "android-support-v13",
        "android-support-v4",
        "android-support-v7-appcompat",
        "android-support-v7-cardview",
        "android-support-v7-recyclerview",
	//"androidx.annotation_annotation",
    ],

    libs: [
        "auto_value_annotations",
        "org.apache.http.legacy",
    ],

    plugins: [
        "auto_value_plugin",
        //"javapoet",
        //"dialer-common-m2-host-deps",
        //"dialer-dagger2-compiler-deps",
        "dagger2-compiler",
        "glide-annotation-processor",
        "dialer-rootcomponentprocessor",
    ],

    proto: {
        canonical_path_from_root: false,
    },

    // Proguard includes
    optimize: {
        proguard_flags_files: [
            "proguard.flags",
            BASE_DIR + "/**/proguard.*flags",
        ],
        no_aapt_flags: true,
        enabled: true,
        optimize: true,
    },

    certificate: "shared",
    privileged: true,
    product_specific: true,

    required: ["privapp_whitelist_com.android.dialer"],
    uses_libs: ["org.apache.http.legacy"],
}

java_plugin {
    name: "dialer-rootcomponentprocessor",

    srcs: [
        BASE_DIR + "/dialer/rootcomponentgenerator/**/*.java",
        BASE_DIR + "/dialer/inject/DialerRootComponent.java",
        BASE_DIR + "/dialer/inject/DialerVariant.java",
        BASE_DIR + "/dialer/inject/HasRootComponent.java",
        BASE_DIR + "/dialer/inject/IncludeInDialerRoot.java",
        BASE_DIR + "/dialer/inject/InstallIn.java",
        BASE_DIR + "/dialer/inject/RootComponentGeneratorMetadata.java",
    ],

    static_libs: [
        "dialer-common-m2-host-deps",
        "javapoet",
        "auto_service_annotations",
        "auto_common",
        "error_prone_annotations",
    ],

    java_version: "1.8",
}
